Overall evaluation
==================

Accept with minor revisions

Comments and suggestions
========================

The article is an extended version of the paper presented at ICAPS-2011. In the context of multiple battery load management, it describes an approach to compute policies for battery switching in order to optimize both the battery lifetime (to be maximized) and the number of battery switches (to be minimized).

The contribution of this work is twofold:
1- A domain specific contribution in the domain of multiple battery load management. The proposed approach is shown to improve over current policies both for maximizing battery lifetime and for minimizing the number of switches
2- Some more general contributions 
  * In the domain of planning in non-deterministic domains with the idea of sampling the uncertainties, build a plan for each deterministic sample and learn a policy using classification over the deterministic plans
  * In the domain of continuous planning with the proposed variable sized discretisation combined with a validation tool

I think a couple of points should be improved in the paper before publication:

On table 1, it seems that the column labelled "best-of-two" shows the theoretical upper-bound with extremely high frequency switching. The labelling of this column should be improved because in other places in the article the term "best-of-n" strategy is rather used as an actual strategy that can be used in practice (for instance in the experiments). Furthermore this strategy is defined in section 2 to switch between batteries only when the "service load drops below a certain threshold". I am not sure this definition can be used to describe a strategy that allows switching between batteries every "fixed time period".

It is mentioned (first on page 3, then all along the paper) that the theoretical optimal solution for maximizing battery lifetime that consists in switching between batteries at extremely high frequency is not achievable in practice. Could you explain a bit more in detail why? Some losses in the physical process are mentioned. Are you aware of any study to quantify those losses? Is there an approximation somewhere that could be used to integrate the impact of the number and/or frequency of switches on the battery lifetime? 

Other points that could help improving the paper:

It would be valuable to have an idea of the landscape of the optimization problem, in particular how the two objectives of lifetime and number of switches play one against the other. The optimization problem in the deterministic case and for a not too small discretisation step seems to be of a reasonable size to be solved to optimality, for instance by modelling it as a Mixed Integer Programming problem. Did you try this type of approach? Even if it can have difficulties to scale to a very long horizon with fine-grain discretisation, this type of model could be interesting to study how the optimal battery lifetime depends on the number of allowed switches.

I am surprised by the comparison between the plan and the plan-based policy on Table 2. There does not seem to be any degradation of lifetime between the two whereas one would expect that the comparison is not fair for the policy because the plan knows the complete load profile in advance. How do you explain the same lifetime is achieved? Could it be because you tested with load profiles that were used in the learning set? In this case, it would be interesting to see how the two compares for load profiles not in the learning set. In addition, it would be interesting to see how the two solutions differ more qualitatively in terms of battery switching strategy: is the plan very different? The policy seems to produce about twice more switches, is there an explanation for that?

Overall, I am impressed by the quality of the results and the efforts for the physical experiments. I am wondering, after this study and after having experimented and analysed the computed policies if you would be able to come up with some reasonably simple policy (in any case, much simpler than the computed decision trees with several thousands nodes) that could compete with the currently used ones? On the same line, is it possible to parameter the WEKA classifier in order to control the maximal size of the decision tree it produces? 
