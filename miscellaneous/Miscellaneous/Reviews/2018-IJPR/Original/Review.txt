TPRS-2017-IJPR-1071

Minimizing Total Weighted Completion Time on Batch and Discrete Machines with Incompatible Job Families
*= Required Fields [Yes/No]

* 1. Does the paper make a new and significant contribution to the Production Research literature?	
Yes

* 2. Does the paper provide evidence of real or potential application for Production Systems?	
Yes

* 3. Is adequate credit given to other contributors in the field and are references sufficiently complete?	
Yes

* 4. Does the paper appropriately compare the performance of proposed methodologies with those found in the published literature?
No

* 5. Does the paper state what the author(s) propose to do in the future?	
Yes

* 6. Are the character and contents of the paper clear from the title and abstract?	
Yes

* 7. Is the paper clearly, concisely, accurately, and logically written?	
No

* 8. Could it benefit from condensing or expansion? If yes, please explain why in the comments to author section.	
No

* 9. Is the subject matter of relevance to Production Research and appropriate for IJPR?	
Yes

* 10. Are all references relevant? If not please indicate in your review not relevant references.	
No
 
Would you be willing to review a revision of this manuscript?
[X] Yes
[ ] No

Recommendation
[ ] Accept
[ ] Minor Revision
[X] Major Revision
[ ] Reject but allow Resubmission
[ ] Reject


Confidential Comments to the EIC
Only confidential information that you do not wish to be passed to the Authors should be entered here.


*Comments to the Author
Please give your remarks to the authors. Without this, your review will be cancelled.


The article tackles an interesting realistic scheduling problem in the food processing industry. 

After a literature review in the domain, it describes the scheduling problem and proposes and compares two formulations: a MIP (described in a former paper) and a CP one. I think this work is very relevant for the Journal of Production Research. 

This being said, there are two main issues in the manuscript that I think should be fixed before the article could be accepted.

1/ Problem and CP model description

First, the description of the problem and of the CP formulation should be improved. It is difficult to have a global vision of the problem, in spite of the description of the facility on Figure 2. From a model formulation perspective, it would be useful to add a figure that describes the different operations that are modeled with the interval variables of the CP model and the overall process, with the precedence constraints between operations. That would be complementary with Figure 2.

Another problem is that the article assumes that the reader is familiar with the modeling concepts used in CP Optimizer (optional interval variables, sequence variables with transition matrices,...). I do not think you can make this assumption and it would be necessary to add a small section (but more detailed than the current one on p. 3) that describes these modeling concepts and refers to some papers (like [1] and [2]) for more details.

[1] P. Laborie, J. Rogerie. Reasoning with Conditional Time-intervals. Proc. 21th International FLAIRS Conference (FLAIRS 2008) 
[2] P. Laborie, J. Rogerie, P. Shaw, P. Vilim . Reasoning with Conditional Time-intervals, Part II: an Algebraical Model for Resources. Proc. 22th International FLAIRS Conference (FLAIRS 2009) 

Some more detailed comments on the CP model:

* I would change the title of section 3.2 ("CP Solution Model") into something like "CP Formulation" or "CP Model". The "Solution" term seems to imply that your CP approach is more than just a declarative model but that you also have to write some resolution algorithm. Which is of course not the case as here you are using a purely declarative CP formulation of the problem, just like a MIP, and you rely on the automatic search of CP Optimizer.

* In the model, in constraints (7), as WaitingProcessV_ib is an optional interval, when you use constraint startAtEnd(WaitingProcessV_ib,AgeProcessV_ib), it means that if interval WaitingProcessV_ib is absent, the temporal constraint will not be enforced, and in particular if you have a chain of precedence constraints going through this startAtEnd, this chain will be "broken" in case WaitingProcessV_ib is absent. Is it really what you want to model? For a better understanding of the global problem, this is typically where a Figure showing all the operation/intervals and the temporal constraints would really help.

* I'm not sure to understand constraint (19). The constraints basically says (C is a condition): (C && endOf(AgeProcessV_ib)>n*Week) => endOf(AgeProcessV_ib)==n*Week. As this implication is never feasible, it just seems to mean that the left hand side of the implication should always be false. So !C || endOf(AgeProcessV_ib)<=n*Week. I don't see which constraint you want to formulate here. Or may be it is a forbidEnd constraint that prevents the interval to end during a week-end?

* Constraint (20) could probably be formulated using an endBeforeStart constraint. This can be more efficient.

* Constraint (22) could probably be formulated as lengthOf(VesselAssign_ib)<72. This can be more efficient.

2/ Experiments

The main problem with the comparison of the MIP and CP model in section 4.1 is that it is not clear if the 2 models model the same problem. In the beginning of the section, you say that the MIP model had to be slightly adapted to be comparable to the CP one (as CP handles only integer). So one can conclude that after these adaptations, the two formulations represent the same problem. But on Table 1, as the reader understands that any time lower than 600s means that the approach proves optimality, how can it be that, for instance for the smallest instance 1, the MILP and CP model do not find the same optimal makespan (129 v.s. 136) ? And the following sentence seems to suggest that the formulations do not represent exactly the same problem: "Overall, the difference ranged from +14% to -15% which can be attributed to model variation". This should be clarified. If the formulations are for two different problems, then how can you compare them? Furthermore, on Table 1, you should clearly identify the instances that were solved to optimality by each approach.

Also, it is not clear why the CP models are using a fail limit *and* a time limit. Why not just using a time limit? The fail limit does not really make sense from an applicative point of view.

The tentative of explanation of why the CP model performs better than the MILP in section 4.1 is not really convincing. The fact the MIP has a much larger number of constraints and variables is not enough as MIP and CP technologies work very differently for solving the problem. So, at minimum, you should be more careful for giving this as an explanation. 

3/ Additional comments:

* In the abstract: "CP is a mathematical optimization tool for solving scheduling problems". This is too restrictive: beside scheduling, CP can be used to solve many other combinatorial problems!

* Nomenclature: I think it is a good idea to have some appendix like this. But right at the beginning of the article is not the right place I think. I would add it as an appendix in the end. Furthermore, the description of the "weekend break step function" that is using the (non-described) OPL syntax is not really understandable for a non-expert reader. I would give a more mathematical description of this step function. 

* In general, the typesetting of the mathematical equations is not very nice in the paper. I would suggest to use LaTeX.

* On page 3: "ILOG IBM CPLEX" -> "IBM ILOG CP Optimizer". I would insist on CP Optimizer as you are solving the CP model with this engine, not with CPLEX (MIP) engine.

* In the literature review, I would not classify  the neural net approaches as mathematic methods. First, in the cited reference, the article does not solve the problem (unlike the Branch&Bound, MILP, CP or heuristic methods): NN is only used to "estimate" the objective value. And I would not qualify this method as "mathematical" in this context. So I would rather remove it from the literature review.

* In the conclusion, the fact that the CP formulation is limited to integers is not a big problem I think as you can scale the problem as you want and the performance of the resolution does not really depend on the scaled factor.

