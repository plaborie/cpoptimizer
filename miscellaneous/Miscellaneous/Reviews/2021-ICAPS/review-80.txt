Title:	A Hybrid Imperialist Competitive Algorithm for the Outpatient Scheduling Problem with Switching and Preparation Times
Authors:	(anonymous)
PC member:	Philippe Laborie


Evaluation
Significance / Importance.
* Does the paper contribute a major breakthrough or an incremental advance? If the paper describes an application, is the application important?
 3: substantial contribution or strong impact
 2: modest contribution or average impact
>1: minimal contribution or weak impact

Soundness.
* Is the technical development accurate? Does the paper present convincing evidence that supports their claims?
 3: correct
>2: minor inconsistencies or small fixable errors
 1: major errors

Novelty.
* Is the research approach described novel? For an application paper, is the application novel?
 3: novel - approach and/or application are new and only a few other similar approaches and/or applications exist
 2: moderate - approach and/or application have been developed before, but significant improvements are presented
>1: marginal - only parts of the application and/or approach are new

Scholarship.
* Is related work cited and discussed?
 3: excellent coverage of related work
>2: relevant literature cited but could be expanded
 1: important related work missing, or mischaracterizes prior research

Clarity.
* Is the paper clearly organized and clearly written? Does the submission make explicit claims about the capabilities or behavior of the approach?
 3: well organized and well written
>2: mostly readable with some room for improvement
 1: hard to follow

Technology Readiness Level.
* How would you characterize the Technology Readiness Level of the contribution
 9: Actual system proven through successful mission operations
 8: Actual system completed and qualified through test and demonstration
 7: System prototype demonstration in an operational environment
 6: System/subsystem model or prototype demonstration in a relevant environment
 5: Component and/or breadboard validation in relevant environment
 4: Component and/or breadboard validation in laboratory environment
>3: Analytical and experimental critical function and/or characteristic proof of concept
 2: Technology concept and/or application formulated
 1: Basic principles observed and reported
 0: N/A - not applicable

Reproducibility.
* Can the work be reproduced or verified based on the paper and any supporting information or data?
 5: code and data (whichever apply) are already publicly available
 4: authors promise to release code and data (whichever apply)
 3: authors describe the implementation and data in sufficient detail
 2: some details missing but still appears to be replicable with some effort
>1: difficult to reproduce because of missing detail
 0: N/A - nothing to reproduce

Suitability for Special Track.
* Is the paper suitable to the track it was submitted to
 8: Special Track on Planning and Learning - Almost all focus is on learning
 7: Special Track on Planning and Learning - Almost all focus is on planning
 6: Special Track on Planning and Learning - Good balance between planning and learning
 5: Special Track on Robotics - Almost all focus is on robotics
 4: Special Track on Robotics - Almost all focus is on planning
 3: Special Track on Robotics - Good balance between planning and robotics
 2: Novel Applications - Planning & Scheduling are not Important for the Application
>1: Novel Applications - Planning & Scheduling are Important for the Application
 0: N/A - submitted to the main track

Overall evaluation.
* Please provide an overall score.
 3: strong accept
 2: accept
 1: weak accept
 0: borderline paper
 -1: weak reject
>-2: reject
 -3: strong reject

Review.* Detailed review. (Required)

The paper describes an interesting application in the context of scheduling outpatients in an hospital. The problem can be formulated as a flexible job-shop scheduling problem with resource-dependent transition times between successive operations of a job. The paper proposes a resolution approach that integrates simulated annealing (SA) and estimation of distribution algorithm (EDA) into an hybrid imperialist competitive algorithm (HICA).

I think the main problem is that the experimental section is not very strong. Some details are missing but it seems that the performance of the proposed approach is studied only on very small problems (the largest one seems to only involve 5 patients, 4 stages per patient and 3 medical resources). 

Also, while the approach is compared against several metaheuristics and a MIP model using CPLEX, I think a comparison with Constraint Programming techniques (which is the state-of-the-art exact approach to solve the flexible job-shop scheduling problem) should be done. The size of the problems studied in the paper seems very tiny compared to the typical size of problems solved by CP.  

I attach a naive formulation of the problem in CP Optimizer (which you can use as it is available together with the CPLEX optimization engine). It finds optimal solutions and proves optimality on the "largest" instances (5-4-3) in a matter of seconds.

Detailed comments
-----------------

- In the introduction, you mention "35 outpatient scheduling problem instances are randomly generated" but as far as I can see, only 18 small instaces are slightly described in the experimental section. Could you precise ?

- In the MIP formulation of the problem:
  * E_j,q,i is described as a Binary variable but it seems to me it is a parameter, not a decision variable
  * I'm a bit surprise that, from the application point of view, the preparation time of the patient j on medical resource i does not also depend on the stage. 
  * On the contrary, C_j, the completion time of operations is not a parameter but a variable of the problem
  * Isn't parameter R_i redundant ? Is it the total number of operations that resource i can perform, that is, the sum over j,q of the eligibility boolean E_j,q,i ?

- In the experimental section, you say that "... while the sixth and seventh columns provide the deviation of the objective value of each algorithm compared with the best value.". So does it mean that the MIP does not find optimal value for the smallest problem 2-2-2 as CPLEX fitness value is 79 and best is 78 ? This is strange on such a tiny instance where one can easily enumerate the solutions and maybe compute the optimal solution by hand ...

- After Table 2 in the experimental section : "The following observations can be made from Table 1." I suppose you mean Table 2 here.

- In section 4.4: "four instances with different features are depicted in Figure 6". What are these new instances? Before you only mentioned the characteristics of 18 small instances. What are the characteristics of these instances Inst19, Inst23 and Inst29 ?


Questions for rebuttal
----------------------

Q1: Did you try using CP techniques (in particular CP Optimizer that you can use as you are also using CPLEX MIP) to formulate the problem ?

Q2: Could you give more information about the instances used in the experimental section (how the data is generated, also, which instances are used except for the 18 mentioned ones ?)


>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
>> Python formulation in CP Optimizer, same formulation could be 
>> implemented in Java, C++ or OPL
>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

import random
n = 5 # Number of job/patients
l = 4 # Number of operation/stages by patient
m = 3 # Number of medical resources
# Processing time of stage q of job j on medical resource i (P[j][q][i])
P = [ [ [random.randint(50, 100) for i in range(m) ] for q in range(l)] for j in range(n)]
# Switch time for job j between medical resource k to medical resource i 
S = [ [ [random.randint(10, 50)*(i!=k) for i in range(m) ] for k in range(m)] for j in range(n)]

# CP-OPTIMIZER MODEL

from docplex.cp.model import *
model = CpoModel()

# Decision variables
# Operations (stages)
op = [ [ interval_var() for q in range(l) ] for j in range(n)]
# Operations (stages) on medical resources
om = [ [ [ interval_var(optional=True, size = P[j][q][i]) for i in range(m)] for q in range(l)] for j in range(n)]

# Objective function: minimize makespan
model.add( minimize(max([ end_of(op[j][l-1]) for j in range(n)])) )

# Constraints
model.add(
  # Precedence constraint between consecutive stages:
  [ end_before_start(op[j][q], op[j][q+1]) for j in range(n) for q in range(0,l-1) ] +
  # Switching time depending on consecutive medical resources:
  [ end_before_start(om[j][q][i], om[j][q+1][k], S[j][k][i]) for j in range(n) for q in range(0,l-1) for i in range(m) for k in range(m) ] +
  # Allocation of stages to possible medical resources:
  [ alternative(op[j][q], [om[j][q][i]  for i in range(m)]) for j in range(n) for q in range(l) ] +
  # Medical resources can only perform on stage at a time:
  [ no_overlap([om[j][q][i] for j in range(n) for q in range(l)]) for i in range(m)] +
  # Redundant constraint stating that at most m stages can run in parallel:
  [ sum([pulse(op[j][q],1) for j in range(n) for q in range(l)]) <= m ]
)

# Solve
sol = model.solve(trace_log=True, LogPeriod=1000000000)

>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>


Reviewer's confidence.
* Reviewer's confidence
>4: (expert)
 3: (high)
 2: (medium)
 1: (low)
 
Suitable for a demo?.
* Suitable for a demo?
 3: yes
 2: maybe
>1: no
 
Nominate for Best Paper Award?. 
 yes

Nominate for Best Student Paper Award (assuming it is eligible) ?. 
 yes
 
Confidential remarks for the program committee. 
If you wish to add any remarks intended only for PC members please write them below. These remarks will only be seen by the PC members having access to reviews for this submission. They will not be sent to the authors. This field is optional.


