Number: 76
Title: A Constraint Programming Approach to Electric Vehicle Routing with Time Windows.
Authors:	Kyle E. C. Booth and J. Christopher Beck. 

Review:
 1: weak accept

The article describes two CP models for solving an electric vehicle routing problem with time windows and vehicle recharge. This is the first time CP is used to solve this type of problem. The approach is shown to outperform MILP models in a number of configurations.

The second CP model using a single resource is original in scheduling, even if, as mentioned by the authors a similar model was used in sequencing (with the circuit constraint).

The paper falls a bit short when trying to explain why the proposed CP models have difficulties finding feasible solutions to some instances of the problem. Given the chronological aspect of several of the techniques used in CP Optimizer, it would really be useful to understand why the engine do not immediately find a feasible solution; it would probably point to some possible strengthening of the models which could positively impact the overall performance of the optimization.

In both CP models, the distance component of the objective function is modeled as a sum of expressions Pres(x_i)*D[prev(x_i),i]. Interval variable x_i is used twice in the expression whereas I think the expression could be factorized and result in stronger propagation. I guess prev(x_i) is using an expression typeOfPrev(pi,x_i,FirstVal,AbsVal). When x_i is absent this expression returns AbsVal so usually it is better to have an additional row in matrix D indexed by, say IDXABS with value 0 and use typeOfPrev(pi,x_i,FirstVal,IDXABS) to ensure the distance ifs 0 when x_i is absent. This allows removing the multiplication by Pres(x_i) in the objective expression.

In the section on model strengthening (top of p11), the explanation for the constraint StartOf(x_i)=w_i is not clear. As you say, by default when x_i is absent, the value of StartOf(x_i) is 0. Thus the constraint StartOf(x_i)=w_i enforces x_i to be present (assuming w_i!=0) which is clearly not what you want. I think you should use: StartOf(x_i,w_i)=w_i. This was maybe the intent of the sentence but it is far from being clear.

In the same section, the explanation for the need of additional intervals x_i] with opposite presence status as the x_i is strange, especially when enforcing StartOf( x_i] ) = StartOf( x_i ) (I even do not see how you can enforce this, maybe rather by doing  StartOf( x_i] ,w_i) = w_i). But are these interval variables really needed? The justification is related with statement "which violates constraint (36) if horizon segments are set as absent". But if x_i is absent constraint 36 (AlwaysIn(\cal{Q}, x_i, [Q;Q])) is always satisfied so it cannot be violated. Couldn't you use for x_i just a StepAtStart(x_i,[0,Q]) in conjunction with AlwaysIn(\cal{Q}, x_i, [Q;Q]). It would reset the energy level to Q when x_i is present and do nothing (in particular, no constraint) when x_i is absent.


Reviewer's confidence:	
5: (expert)